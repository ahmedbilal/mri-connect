{% extends "./jazzbase.html" %}
{% load i18n static jazzmin admin_urls %}

{% block cardbody %}

{% if validlink %}

<p>{% translate "Please enter your new password twice so we can verify you typed it in correctly." %}</p>

<form method="post">{% csrf_token %}

    {% if form.new_password1.errors %}
    <div class="callout callout-danger">
        {{ form.new_password1.errors }}
    </div>
    {% endif %}

    <div class="input-group mb-3">
        <div class="input-group-append">
            {{ form.new_password1 }}
            <div class="input-group-text">
                <span class="fas fa-key"></span>
                &nbsp;
                <label for="id_new_password1">{% translate 'New password' %}</label>
            </div>
        </div>
    </div>

    {% if form.new_password2.errors %}
    <div class="callout callout-danger">
        {{ form.new_password2.errors }}
    </div>
    {% endif %}

    <div class="input-group mb-3">
        <div class="input-group-append">
            {{ form.new_password2 }}
            <div class="input-group-text">
                <span class="fas fa-key"></span>
                &nbsp;
                <label for="id_new_password2">{% translate 'Confirm' %}</label>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <button type="submit" class="btn btn-primary btn-block">{% translate 'Change my password' %}</button>
        </div>
    </div>

</form>

{% else %}

<p>{% translate "The password reset link was invalid, possibly because it has already been used.  Please request a new password reset." %}</p>

{% endif %}

{% endblock %}
